<!DOCTYPE html>
<html>

<head>
  <title>Capstone Project</title>
  <meta charset="utf-8" />
  <meta name="description" content="Senior Capstone" />
  <meta name="keywords" content="capstone, heatmap, Westminster, college" />
  <meta name="author" content="Benjamin T. Kotch" />
  <link rel="stylesheet" type="text/css" href="stylesheets/index.css">
  <!--scripts to load and initialize heatmap.js-->
  <script src="javascripts/heatmap.js"></script>
  <script>
    var test_data = {
      "galbreath": {
        "0": {
          "imageUrl": "images/gal_0.jpg",
          "level": 1,
          "heatmapData": {
            "x": 150,
            "y": 200,
            "value": 76,
            "level": 1
          }
        },
        "1": {
          "imageUrl": "images/gal_1.jpg",
          "level": 1,
          "heatmapData": {
            "x": 150,
            "y": 200,
            "value": 76,
            "level": 1
          }
        },
        "2": {
          "imageUrl": "images/gal_2.jpg",
          "level": 1,
          "heatmapData": {
            "x": 150,
            "y": 200,
            "value": 76,
            "level": 1
          }
        },
        "3": {
          "imageUrl": "images/gal_3.jpg",
          "level": 1,
          "heatmapData": {
            "x": 150,
            "y": 200,
            "value": 76,
            "level": 1
          }
        }
      }
    }

    function loadHeatMap(img_id) {
      console.log("loadHeatMap called");
      console.log("img_id = "+img_id);
      console.log("test_data loaded?: ");
      console.log(test_data);
      //var url = test_data.galbreath;
      //console.log("img_url = "+url);

      // create configuration object and create heatmap with it
      var config = {
        container: document.getElementById("floorplan"),
        radius: 50,
        maxOpacity: .5,
        minOpacity: 0,
        blur: .75
      };
      var heatmapInstance = h337.create(config);

      var dataPoints = [];
      //add datapoints to this array here
      heatmapInstance.addData(dataPoints);
      //load image here
    }
    window.onload = loadHeatMap;
  </script>
</head>

<body>
  <header class="header">
    <a href="http://www.westminster.edu/index.cfm">Westminster College</a>
  </header>

  <nav>
    <div class="dropdown">
      <button class="dropbtn">Galbreath Hall</button>
      <div class="dropdown-content">
        <a href="#" onclick="loadHeatMap(0)">Ground Floor</a>
        <a href="#" onclick="loadHeatMap(1)">First Floor</a>
        <a href="#" onclick="loadHeatMap(2)">Second Floor</a>
        <a href="#" onclick="loadHeatMap(3)">Third Floor</a>
      </div>
    </div>
  </nav>

  <script>
    function g_0() {
      document.getElementById("floorplan").style.backgroundImage = "url('images/gal_0.jpg')";
    }

    function g_1() {
      document.getElementById("floorplan").style.backgroundImage = "url('images/gal_1.jpg')";
    }

    function g_2() {
      document.getElementById("floorplan").style.backgroundImage = "url('images/gal_2.jpg')";
    }

    function g_3() {
      document.getElementById("floorplan").style.backgroundImage = "url('images/gal_3.jpg')";
    }
  </script>
  <script>
    /*Loop through all dropdown buttons to toggle between hiding and showing its dropdown content - This allows the user to have multiple dropdowns without any conflict-->*/
    var dropdown = document.getElementsByClassName("dropdown-btn");
    var i;

    for (i = 0; i < dropdown.length; i++) {
      dropdown[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var dropdownContent = this.nextElementSibling;
        if (dropdownContent.style.display === "block") {
          dropdownContent.style.display = "none";
        } else {
          dropdownContent.style.display = "block";
        }
      });
    }
  </script>

  <div id="floorplan"></div>

</body>

</html>
